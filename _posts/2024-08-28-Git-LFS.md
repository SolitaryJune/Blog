---
layout:     post
title:      "Git LFS"
subtitle:   "SVN、Perforce、"
date:       2024-08-28
update:     2024-08-29
author:     "elmagnifico"
header-img: "img/y4.jpg"
catalog:    true
tobecontinued: true
tags:
    - Git
---

## Foreword

之前选过一些资产管理软件，但是都不够好，当时遗漏了Git LFS，这里再补充测试一下



## Git LFS

> https://github.com/git-lfs/git-lfs

Git LFS的客户端和Git不同，但是可以使用相同的命令完成Git操作



将所有stp结尾的文件，加入到追踪中

```
git lfs track "*.stp"
git lfs track "*.CATDrawing"
git lfs track "*.CATPart"
git lfs track "*.dxf"
```



lfs文件追踪是加在.gitattributes文件中的

```
git add .gitattributes
git commit -m "track *.stp files using Git LFS"
```



lfs文件追踪是加在.gitattributes文件中的

```
git add .
git commit -m "add stp"
```



查看追踪文件

```
git lfs track
```



下载包含lsf的仓库时也需要加上lfs的标签

```
git lfs clone xxxx
```



### 迁移

把原来git代码中大文件变成lfs中存储

```
git lfs migrate import --include="*.stp" --everything
```



### 问题

```
$ git push -u origin master
Remote "origin" does not support the LFS locking API. Consider disabling it with:
  $ git config lfs.https://e.coding.net/xxxx/gitlfs/gitlfs.git].git/info/lfs.locksverify false
```

可能会出现以上提示，这个是服务端不支持文件锁定，所以需要配置一下让服务端关闭即可



Git LFS，coding里是标配了20G空间，不占用原有代码空间，Gitee里只有1G基本等于没有，必须要私有部署才行



### 测试

![image-20240829225227600](https://img.elmagnifico.tech/static/upload/elmagnifico/image-20240829225227600.png)

经过测试，1.11GB的文件，比较大的文件加入lfs以后，git add 命令会快很多

上传和下载就取决于网络和服务端限制了，正常使用似乎问题不大。



coding似乎5分钟左右就能完成2.28G的仓库上传，40秒不到就能把整个仓库完全拉下来，完全够用了

大部分硬件仓库和结构仓库，不包含一些七七八八的东西的话，用Git lfs管理足够。



## SVN



## Summary



## Quote

> https://coding.net/help/docs/admin/pay/newprice.html
>
> https://coding.net/help/docs/repo/git/lfs.html
>
> https://zhuanlan.zhihu.com/p/511750788
>
> https://zhuanlan.zhihu.com/p/146683392
>
> https://gitee.com/help/articles/4235#article-header4
