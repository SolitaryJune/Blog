---
layout:     post
title:      "嵌入式设备的usb转串口驱动"
subtitle:   "嵌入式，串口，驱动"
date:       2015-11-02
author:     "elmagnifico"
header-img: "img/Embedded-head-bg.png"
tags:
    - 嵌入式
    - 树莓派
    - RaspberryPi
---

## 串口驱动

一般常用能在淘宝买的usb转串口驱动基本就这么几种
- CH340
- CP2102
- PL2303
- FTDI（这种我没用过）

除了最后一种以外其他的我都用过，并且是在Win10,Win8.1,Win8上全部兼容的，也就是说有时候没必要为了某个驱动而不得不装个XP或者Win7才能用，我一直用最新的系统，写的程序也是在Win10上的，所以不存在做嵌入式的无法用新系统来编程（当然是存在比较老的编译器只支持xp的，其他系统一概用不了，这种这么老的系统我们不研究）
当然如果你想要在你最新系统上装上这些驱动，那你一定得注意以下几点

## 驱动安装前必做事项！！！

1. 打开控制面板
2. 右上角搜索-设置
3. 从结果中找到“更改设备安装设置”，打开
4. 选择-否，让我选择要执行的操作
5. 选择-从不安装来自windows更新的驱动程序软件
6. 选择自动获取设备应用以及设备制造商提供的信息

以上步骤为必做的，只有做了这个才能保证你装的驱动不会因为windows自作聪明替你预安装而失败

每次安装驱动的时候都要检查一下这个设置，或者是遇到装不上的时候也要检查一下，说不定什么时候就被自动更新给重置了。

## 禁用驱动数字签名

有时候会因为数字签名相关的错误而无法安装

这就需要你重启电脑进入安全模式（F8或者是重启选择高级菜单模式） 

选择 禁用驱动的数字签名。

再重新装驱动，应该就行了。


## 管理员权限

安装驱动的时候一定要卸载了之前的驱动！！！并且用管理员权限运行

安装驱动的时候一定要卸载了之前的驱动！！！并且用管理员权限运行

安装驱动的时候一定要卸载了之前的驱动！！！并且用管理员权限运行

## x86与x64

有的驱动区分是64位还是32位的，一般来说64位的都能用，32位的只能用32位的

我下面提供的驱动如果有区分32与64那就是要注意的

如果没区分那就是随便装就行了

## USB2.0 & USB3.0

一般说3.0和2.0的口都能装

也不排除某些奇葩机器3.0的装不上去，那你就要插到2.0的口上去装，不然不识别。

## 换个USB口

有时候昨天还用的好好的，今天驱动就感叹号了。

这种情况换一个usb口或者是重启一下基本就又好了，不用重复装驱动

## CH340

这种驱动网上比较多，找一个好用的也不难，还是贴一个我的分享吧

>http://pan.baidu.com/s/1hqCq5Sg

密码：ki2i

## CP2102

>http://pan.baidu.com/s/19eZsq

密码：50tg

## PL2303

这种驱动网上最多各种的都有，但是适合你的却很少！

特别是一遇到win8以上的系统立马黄感叹的

这个驱动是当时找了很长时间才找到一个好用的，主要是这款芯片国产盗版的太多了，多数人买的都是国内盗版的，导致驱动认证的时候过不去，各种黄感叹号

>http://pan.baidu.com/s/1mgq3FRi

密码：peqy

## Tips

再加一点题外话

插usb的时候一定要注意连接的设备不要短路了，不然你机器的usb也跟着烧了，换一次得200-300，别问我为什么知道（有些机子有usb保护，就算短了也没事，当时usb没反应了，重启一下就又好了）

丁丁串口工具在串口是打开的情况下的时候不要拔串口线，不然就会得用任务管理器去结束丁丁（非常蛋疼），一定要关了串口再拔。丁丁不会串口实时检测，关掉再打开才能检测到新插入的usb转串.

既然是USB驱动，经常是有插针可以自己接的，很多新手不注意就用usb供电（一般来说只能提供500mA/0.5A,除非你非常熟悉你的机器的usb口，上面标明了可以作为charge口提供2.0A供电），usb供电不足的情况经常发生，这样会出现很多现象，你以为是你代码有问题，其实就是供电的问题。

在驱动没有感叹号的情况下，如果串口上位机收不到信息，请关掉重开

还收不到？交换R线与T线，检查地线是否连接了

这还能收不到？换根串口线/杜邦线

这尼玛还没信息？不要想了，根本没给你发，改代码去吧

## The end


基本上按照我上面说的做就没有装不上的驱动，大多数人都是试了几个驱动就放弃了。

许多小的细节地方不对，导致驱动怎么也装不上，自己也不去多查一下，就认为设备坏了（因为这种原因我抢救过若干usb转串）

遇到装不上的情况，仔细检查以上步骤，卸载干净之后再来一遍。

如果上面分享没了的话，留言我会更新的



